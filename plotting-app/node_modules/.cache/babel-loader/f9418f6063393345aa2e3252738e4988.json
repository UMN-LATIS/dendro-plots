{"remainingRequest":"C:\\Users\\JThorneUMN\\Documents\\GitHub\\dendro-plots\\plotting-app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\JThorneUMN\\Documents\\GitHub\\dendro-plots\\plotting-app\\src\\composables\\formatFileData.js","dependencies":[{"path":"C:\\Users\\JThorneUMN\\Documents\\GitHub\\dendro-plots\\plotting-app\\src\\composables\\formatFileData.js","mtime":1628512055939},{"path":"C:\\Users\\JThorneUMN\\Documents\\GitHub\\dendro-plots\\plotting-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\JThorneUMN\\Documents\\GitHub\\dendro-plots\\plotting-app\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0pUaG9ybmVVTU4vRG9jdW1lbnRzL0dpdEh1Yi9kZW5kcm8tcGxvdHMvcGxvdHRpbmctYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkM6L1VzZXJzL0pUaG9ybmVVTU4vRG9jdW1lbnRzL0dpdEh1Yi9kZW5kcm8tcGxvdHMvcGxvdHRpbmctYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5tYXgtc2FmZS1pbnRlZ2VyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vIHBhcnNlIGxvY2FsIGNvcmUgcG9pbnRzIGluIExUcmVlcmluZwovLyB3aW5kb3cucG9zdE1lc3NhZ2UoeyB4OiBbXSwgeTogW10sIG5hbWU6ICIiIH0pCi8vIHVzZSBkaXN0YW5jZSAmIGFubm90YXRpb24gZGF0YSBpbiBKU09OCmltcG9ydCBQYXBhIGZyb20gJ3BhcGFwYXJzZSc7CgpmdW5jdGlvbiB0b01NKG51bSkgewogIGlmIChudW0ubGVuZ3RoID09IDQpIHsKICAgIC8vIDEyMzQgPT4gMS4yMzQKICAgIHJldHVybiBudW0uc2xpY2UoMCwgMSkgKyAnLicgKyBudW0uc2xpY2UoMSk7CiAgfSBlbHNlIGlmIChudW0ubGVuZ3RoID09IDMpIHsKICAgIC8vIDEyMyA9PiAwLjEyMwogICAgcmV0dXJuICcwLicgKyBudW07CiAgfSBlbHNlIGlmIChudW0ubGVuZ3RoID09IDIpIHsKICAgIC8vIDEyID0+IDAuMDEyCiAgICByZXR1cm4gJzAuMCcgKyBudW07CiAgfSBlbHNlIHsKICAgIC8vIDEgPT4gMC4wMDEKICAgIHJldHVybiAnMC4wMCcgKyBudW07CiAgfQp9CgpmdW5jdGlvbiBmb3JtYXRSV0woZGF0YSkgewogIHZhciBmb3JtYXR0ZWREYXRhID0gW107IC8vIDEpIHJ3bCByZW1vdmUgaGVhZGVyCgogIHZhciBoZWFkZXJMZW5ndGggPSAwOwoKICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoZGF0YSksCiAgICAgIF9zdGVwOwoKICB0cnkgewogICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgdmFyIF9hcnJheSA9IF9zdGVwLnZhbHVlOwoKICAgICAgdmFyIHRlc3RfY2hhcmFjdGVyID0gX2FycmF5WzBdLmNoYXJBdCg5KTsKCiAgICAgIGlmIChpc05hTihwYXJzZUZsb2F0KHRlc3RfY2hhcmFjdGVyKSkpIHsKICAgICAgICBoZWFkZXJMZW5ndGgrKzsKICAgICAgfSBlbHNlIHsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2l0ZXJhdG9yLmUoZXJyKTsKICB9IGZpbmFsbHkgewogICAgX2l0ZXJhdG9yLmYoKTsKICB9CgogIGRhdGEuc3BsaWNlKDAsIGhlYWRlckxlbmd0aCk7IC8vIDIpIHNwbGl0IHJ3bCBkYXRhIGludG8gYXJyYXkKICAvLyBjdXJyZW50IGZvcm1hdDogW0NvcmUgbmFtZSwgeWVhciwgbGVuZ3RoLCBsZW5ndGgsIGxlbmd0aCwgLi4uXSwgLi4uCgogIHZhciByd2xTcGxpdERhdGEgPSBbXTsKCiAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihkYXRhKSwKICAgICAgX3N0ZXAyOwoKICB0cnkgewogICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgdmFyIF9hcnJheTIgPSBfc3RlcDIudmFsdWU7CgogICAgICB2YXIgc3BsaXREYXRhID0gX2FycmF5MlswXS5zcGxpdCgvW1xzXSsvKTsKCiAgICAgIHJ3bFNwbGl0RGF0YS5wdXNoKHNwbGl0RGF0YSk7CiAgICB9IC8vIDMpIGJ1aWxkIG5ldyBoZWFkZXIKICAgIC8vIGhlYWRlciBmb3JtYXQ6IFtZZWFyLCBDb3JlIDEgbmFtZSwgQ29yZSAyIG5hbWUsIC4uLl0KCiAgfSBjYXRjaCAoZXJyKSB7CiAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICB9IGZpbmFsbHkgewogICAgX2l0ZXJhdG9yMi5mKCk7CiAgfQoKICB2YXIgbmV3SGVhZGVyID0gWydZZWFyJ107CiAgdmFyIGN1cnJlbnROYW1lID0gJyc7CgogIGZvciAodmFyIF9pID0gMCwgX3J3bFNwbGl0RGF0YSA9IHJ3bFNwbGl0RGF0YTsgX2kgPCBfcndsU3BsaXREYXRhLmxlbmd0aDsgX2krKykgewogICAgdmFyIGFycmF5ID0gX3J3bFNwbGl0RGF0YVtfaV07CiAgICB2YXIgcm93TmFtZSA9IGFycmF5WzBdOwoKICAgIGlmIChyb3dOYW1lICE9IGN1cnJlbnROYW1lICYmIHJvd05hbWUpIHsKICAgICAgbmV3SGVhZGVyLnB1c2gocm93TmFtZSk7CiAgICAgIGN1cnJlbnROYW1lID0gcm93TmFtZTsKICAgIH0KCiAgICA7CiAgfQoKICA7IC8vIDQpIGNyZWF0ZSBhcnJheXMgZm9yIGFsbCB5ZWFycwogIC8vIGZvcm1hdDogW1llYXIsIC4uLl0sIFsxOTAwLCAuLi5dLCBbMTkwMSwgLi4uXQoKICB2YXIgZWFybGllc3RZZWFyID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CiAgdmFyIGxhdGVzdERlY2FkZSA9IC0xICogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CiAgdmFyIGxhdGVzdFllYXIgPSAwOwogIHZhciByd2xEYXRhMSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocndsU3BsaXREYXRhKSk7IC8vIGNyZWF0ZSBuZXcgYXJyYXkgZm9yIGRhdGEgc28gb2xkIG9uZSBpcyBub3QgbW9kaWZpZWQKCiAgdmFyIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihyd2xEYXRhMSksCiAgICAgIF9zdGVwMzsKCiAgdHJ5IHsKICAgIGZvciAoX2l0ZXJhdG9yMy5zKCk7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uKCkpLmRvbmU7KSB7CiAgICAgIHZhciBfYXJyYXkzID0gX3N0ZXAzLnZhbHVlOwogICAgICB2YXIgeWVhciA9IHBhcnNlSW50KF9hcnJheTNbMV0pOwoKICAgICAgaWYgKHllYXIgPCBlYXJsaWVzdFllYXIpIHsKICAgICAgICAvLyBmaW5kIGZpcnN0IHllYXIKICAgICAgICBlYXJsaWVzdFllYXIgPSB5ZWFyOwogICAgICB9IGVsc2UgaWYgKHllYXIgPiBsYXRlc3REZWNhZGUpIHsKICAgICAgICAvLyBmaW5kIGxhc3QgeWVhcgogICAgICAgIF9hcnJheTMuc3BsaWNlKDAsIDIpOyAvLyByZW1vdmUgcm93IG5hbWUgJiBkZWNhZGUveWVhcgoKCiAgICAgICAgX2FycmF5MyA9IF9hcnJheTMuZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAvLyByZW1vdmUgc2VudGluZWwsIHNlbnRpbmVsID0gaW5kaWNhdG9yIG9mIHNwZWNpbWVucyBmaW5hbCB3aWR0aAogICAgICAgICAgaWYgKGlzTmFOKHBhcnNlRmxvYXQoZSkpID09IGZhbHNlICYmIHBhcnNlRmxvYXQoZSkgPiAwICYmIGUgIT0gJzk5OScpIHsKICAgICAgICAgICAgcmV0dXJuIGU7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgdmFyIHllYXJzX3RvX2FkZCA9IF9hcnJheTMubGVuZ3RoIC0gMTsgLy8gYWRkIG51bWJlciBvZiB3aWR0aHMgdG8gZm91bmQgeWVhciwgc3VidHJhY3QgMSBiL2MgUldMIHN0YXJ0cyBhdCAwIG5vdCAxCgogICAgICAgIGxhdGVzdERlY2FkZSA9IHllYXI7CiAgICAgICAgbGF0ZXN0WWVhciA9IHllYXIgKyB5ZWFyc190b19hZGQ7CiAgICAgIH0KICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9pdGVyYXRvcjMuZShlcnIpOwogIH0gZmluYWxseSB7CiAgICBfaXRlcmF0b3IzLmYoKTsKICB9CgogIGZvciAodmFyIGsgPSBlYXJsaWVzdFllYXI7IGsgPD0gbGF0ZXN0WWVhcjsgaysrKSB7CiAgICB2YXIgbmV3QXJyYXkgPSBbXTsKICAgIG5ld0FycmF5LnB1c2goU3RyaW5nKGspKTsKICAgIGZvcm1hdHRlZERhdGEucHVzaChuZXdBcnJheSk7CiAgfSAvLyA1KSBmb3JtYXQgJiBhZGQgd2lkdGhzIHRvIGRhdGEKICAvLyBmb3JtYXQ6IFtZZWFyLCBDb3JlIDEgbmFtZSwgQ29yZSAyIG5hbWUsIC4uLl0sIFsxOTAwLCB3aWR0aCAxLCB3aWR0aCAyLCAuLi5dLCBbMTkwMSwgd2lkdGggMSwgd2lkdGggMiwgLi4uXQoKCiAgdmFyIHJ3bERhdGEyID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyd2xTcGxpdERhdGEpKTsgLy8gY3JlYXRlIG5ldyBhcnJheSBmb3IgZGF0YSBzbyBvbGQgb25lIGlzIG5vdCBtb2RpZmllZAoKICB2YXIgcHJldl9uYW1lID0gJyc7CiAgdmFyIG5ld1NldCA9IHRydWU7CgogIHZhciBfaXRlcmF0b3I0ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocndsRGF0YTIpLAogICAgICBfc3RlcDQ7CgogIHRyeSB7CiAgICBmb3IgKF9pdGVyYXRvcjQucygpOyAhKF9zdGVwNCA9IF9pdGVyYXRvcjQubigpKS5kb25lOykgewogICAgICB2YXIgcndsQXJyYXkgPSBfc3RlcDQudmFsdWU7CiAgICAgIHZhciBjdXJyX25hbWUgPSByd2xBcnJheVswXTsKCiAgICAgIGlmIChjdXJyX25hbWUgPT0gcHJldl9uYW1lKSB7CiAgICAgICAgbmV3U2V0ID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbmV3U2V0ID0gdHJ1ZTsKICAgICAgICBwcmV2X25hbWUgPSBjdXJyX25hbWU7CiAgICAgIH0KCiAgICAgIHZhciBzdGFydFllYXIgPSBwYXJzZUZsb2F0KHJ3bEFycmF5WzFdKTsKICAgICAgdmFyIHllYXJBZGogPSAwOyAvLyBpbmRleCBvZiB3aWR0aCBpbiBSV0wgYXMgd2VsbCBhcyB0aGF0IHdpZHRocyB5ZWFyCgogICAgICByd2xBcnJheS5zcGxpY2UoMCwgMik7IC8vIHJlbW92ZSByb3cgbmFtZSAmIGRlY2FkZS95ZWFyCgogICAgICB2YXIgX2l0ZXJhdG9yNSA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGZvcm1hdHRlZERhdGEpLAogICAgICAgICAgX3N0ZXA1OwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjUucygpOyAhKF9zdGVwNSA9IF9pdGVyYXRvcjUubigpKS5kb25lOykgewogICAgICAgICAgdmFyIF9hcnJheTQgPSBfc3RlcDUudmFsdWU7CiAgICAgICAgICB2YXIgeWVhcl9pbl9mb3JtYXR0ZWREYXRhID0gX2FycmF5NFswXTsKCiAgICAgICAgICBpZiAoeWVhckFkaiA+IHJ3bEFycmF5Lmxlbmd0aCAtIDEpIHsKICAgICAgICAgICAgeWVhckFkaiA9IDA7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciB5ZWFyX2luX3J3bERhdGEgPSBTdHJpbmcoc3RhcnRZZWFyICsgeWVhckFkaik7CgogICAgICAgICAgaWYgKHllYXJfaW5fcndsRGF0YSA9PSB5ZWFyX2luX2Zvcm1hdHRlZERhdGEpIHsKICAgICAgICAgICAgdmFyIHdpZHRoX3RvX3Rlc3QgPSByd2xBcnJheVt5ZWFyQWRqXTsKCiAgICAgICAgICAgIGlmIChpc05hTihwYXJzZUZsb2F0KHdpZHRoX3RvX3Rlc3QpKSA9PSBmYWxzZSAmJiBwYXJzZUZsb2F0KHdpZHRoX3RvX3Rlc3QpID4gMCAmJiB3aWR0aF90b190ZXN0ICE9ICc5OTknKSB7CiAgICAgICAgICAgICAgLy8gY2hlY2sgdGhhdCB3aWR0aCBpcyBub3QgYSBzZW50aW5lbCAoaW5kaWNhdG9yIG9mIGVuZCBvZiBjb3JlKQogICAgICAgICAgICAgIHZhciB3aWR0aCA9IHRvTU0ocndsQXJyYXlbeWVhckFkal0pOwoKICAgICAgICAgICAgICBfYXJyYXk0LnB1c2god2lkdGgpOwoKICAgICAgICAgICAgICB5ZWFyQWRqKys7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgLy8gaWYgc2VudGluZWwsIGFkZCAtMSAobWlzc2luZyBkYXRhIGluZGljYXRvcikgdG8gcmVzdCBvZiBmb3JtYXR0ZWREYXRhCiAgICAgICAgICAgICAgdmFyIGN1cnJlbnRfYXJyYXlfaW5kZXggPSBmb3JtYXR0ZWREYXRhLmluZGV4T2YoX2FycmF5NCk7CgogICAgICAgICAgICAgIGZvciAodmFyIGwgPSBjdXJyZW50X2FycmF5X2luZGV4OyBsIDwgZm9ybWF0dGVkRGF0YS5sZW5ndGg7IGwrKykgewogICAgICAgICAgICAgICAgdmFyIGFycmF5X25lZWRpbmdfbmVnX29uZSA9IGZvcm1hdHRlZERhdGFbbF07CiAgICAgICAgICAgICAgICBhcnJheV9uZWVkaW5nX25lZ19vbmUucHVzaCgnLTEnKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYgKG5ld1NldCA9PSB0cnVlKSB7CiAgICAgICAgICAgIF9hcnJheTQucHVzaCgnLTEnKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjUuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjUuZigpOwogICAgICB9CiAgICB9IC8vIDYpIGFkZCBoZWFkZXIKCiAgfSBjYXRjaCAoZXJyKSB7CiAgICBfaXRlcmF0b3I0LmUoZXJyKTsKICB9IGZpbmFsbHkgewogICAgX2l0ZXJhdG9yNC5mKCk7CiAgfQoKICBmb3JtYXR0ZWREYXRhLnVuc2hpZnQobmV3SGVhZGVyKTsKICByZXR1cm4gZm9ybWF0dGVkRGF0YTsKfQoKZnVuY3Rpb24gZm9ybWF0U3BhY2VEZWxpbShkYXRhKSB7CiAgdmFyIGZvcm1hdHRlZERhdGEgPSBbXTsKCiAgdmFyIF9pdGVyYXRvcjYgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihkYXRhKSwKICAgICAgX3N0ZXA2OwoKICB0cnkgewogICAgZm9yIChfaXRlcmF0b3I2LnMoKTsgIShfc3RlcDYgPSBfaXRlcmF0b3I2Lm4oKSkuZG9uZTspIHsKICAgICAgdmFyIGFycmF5ID0gX3N0ZXA2LnZhbHVlOwogICAgICB2YXIgc3BsaXREYXRhID0gYXJyYXlbMF0uc3BsaXQoL1tcc10rLyk7CiAgICAgIGZvcm1hdHRlZERhdGEucHVzaChzcGxpdERhdGEpOwogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2l0ZXJhdG9yNi5lKGVycik7CiAgfSBmaW5hbGx5IHsKICAgIF9pdGVyYXRvcjYuZigpOwogIH0KCiAgcmV0dXJuIGZvcm1hdHRlZERhdGE7Cn0KCmZ1bmN0aW9uIHBhcnNlRmlsZShmaWxlKSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgIHZhciBmciA9IG5ldyBGaWxlUmVhZGVyKCk7CgogICAgZnIub25sb2FkID0gZnVuY3Rpb24gKGV2ZW50LCBpKSB7CiAgICAgIGlmIChmaWxlLnR5cGUgPT0gJ2FwcGxpY2F0aW9uL2pzb24nKSB7CiAgICAgICAgcmVzb2x2ZShKU09OLnBhcnNlKGV2ZW50LnRhcmdldC5yZXN1bHQpLnB0V2lkdGhzKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgcGFwYU9iaiA9IFBhcGEucGFyc2UoZXZlbnQudGFyZ2V0LnJlc3VsdCwgewogICAgICAgICAgZGVsaW1pdGVyc1RvR3Vlc3M6IFsnLCcsICdcdCddCiAgICAgICAgfSk7CgogICAgICAgIGlmIChwYXBhT2JqLmVycm9ycy5sZW5ndGgpIHsKICAgICAgICAgIC8vIHJ3bCBvciBzcGFjZSBkZW1pbGl0ZWQgZmlsZXMKICAgICAgICAgIC8vIHNwYWNlIGRlbGltaXRlZCBoYXMgYSB5ZWFycyBpbiBmYXIgbGVmdCBjb2x1bW4sIFJXTCBoYWQgc3BlY2ltZW4gbmFtZXMsIHdheSB0byBkaWZmZXJlbnRpYXRlCiAgICAgICAgICB2YXIgc3BsaXRfc2Vjb25kX3JvdyA9IHBhcGFPYmouZGF0YVsxXVswXS5zcGxpdCgvW1xzXSsvKTsKICAgICAgICAgIHZhciB0ZXN0X3N0cmluZyA9IHNwbGl0X3NlY29uZF9yb3dbMF07CgogICAgICAgICAgaWYgKGlzTmFOKHBhcnNlRmxvYXQodGVzdF9zdHJpbmcpKSkgewogICAgICAgICAgICByZXNvbHZlKGZvcm1hdFJXTChwYXBhT2JqLmRhdGEpKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlc29sdmUoZm9ybWF0U3BhY2VEZWxpbShwYXBhT2JqLmRhdGEpKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gQ1NWLCBUU1YgZmlsZXMKICAgICAgICAgIHJlc29sdmUocGFwYU9iai5kYXRhKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07CgogICAgZnIub25lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHsKICAgICAgcmV0dXJuIHJlamVjdChlcnIpOwogICAgfTsKCiAgICBmci5yZWFkQXNUZXh0KGZpbGUpOwogIH0pOwp9CgpmdW5jdGlvbiBwYXJzZUZpbGVzKF94KSB7CiAgcmV0dXJuIF9wYXJzZUZpbGVzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9wYXJzZUZpbGVzKCkgewogIF9wYXJzZUZpbGVzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihmaWxlcykgewogICAgdmFyIHBhcnNlZEZpbGVzLCBfaXRlcmF0b3I4LCBfc3RlcDgsIGZpbGUsIHBhcnNlZEZpbGU7CgogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgcGFyc2VkRmlsZXMgPSBbXTsKICAgICAgICAgICAgX2l0ZXJhdG9yOCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGZpbGVzKTsKICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAyOwoKICAgICAgICAgICAgX2l0ZXJhdG9yOC5zKCk7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBpZiAoKF9zdGVwOCA9IF9pdGVyYXRvcjgubigpKS5kb25lKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZmlsZSA9IF9zdGVwOC52YWx1ZTsKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICByZXR1cm4gcGFyc2VGaWxlKGZpbGUpOwoKICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgcGFyc2VkRmlsZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICBwYXJzZWRGaWxlcy5wdXNoKHBhcnNlZEZpbGUpOwoKICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNzsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxNDsKICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDIpOwoKICAgICAgICAgICAgX2l0ZXJhdG9yOC5lKF9jb250ZXh0Mi50MCk7CgogICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxNzsKCiAgICAgICAgICAgIF9pdGVyYXRvcjguZigpOwoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5maW5pc2goMTcpOwoKICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBwYXJzZWRGaWxlcyk7CgogICAgICAgICAgY2FzZSAyMToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMiwgMTQsIDE3LCAyMF1dKTsKICB9KSk7CiAgcmV0dXJuIF9wYXJzZUZpbGVzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCnZhciBmb3JtYXRGaWxlRGF0YSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoZmlsZXMpIHsKICAgIHZhciBmaWxlRGF0YUFycmF5LCBhcnIsIF9pdGVyYXRvcjcsIF9zdGVwNywgZmlsZURhdGEsIGNvbCwgeWVhckFycmF5LCB3aWR0aEFycmF5LCByb3csIHllYXIsIHdpZHRoLCBvYmo7CgogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmlsZXMoZmlsZXMpOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgZmlsZURhdGFBcnJheSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIGFyciA9IG5ldyBBcnJheSgpOwogICAgICAgICAgICBfaXRlcmF0b3I3ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoZmlsZURhdGFBcnJheSk7CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA1OwoKICAgICAgICAgICAgX2l0ZXJhdG9yNy5zKCk7CgogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBpZiAoKF9zdGVwNyA9IF9pdGVyYXRvcjcubigpKS5kb25lKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE2OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmaWxlRGF0YSA9IF9zdGVwNy52YWx1ZTsKCiAgICAgICAgICAgIGlmICghZmlsZURhdGEudHcpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIEpTT04gYWxyZWFkeSBmb3JtYXR0ZWQKICAgICAgICAgICAgYXJyLnB1c2goZmlsZURhdGEudHcpOwoKICAgICAgICAgICAgaWYgKGZpbGVEYXRhLmV3ICYmIGZpbGVEYXRhLmx3KSB7CiAgICAgICAgICAgICAgYXJyLnB1c2goZmlsZURhdGEuZXcpOwogICAgICAgICAgICAgIGFyci5wdXNoKGZpbGVEYXRhLmx3KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgiY29udGludWUiLCAxNCk7CgogICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgLyogb3RoZXIgZmlsZSB0eXBlcyBhcmUgZm9ybWF0dGVkOg0KICAgICAgICAgICAgICBbeWVhciwgbmFtZUEsIG5hbWVCLCAuLi5dLA0KICAgICAgICAgICAgICBbeWVhcjEsIHdpZHRoMUEsIHdpZHRoMUIsIC4uLl0sDQogICAgICAgICAgICAgICAgY29udmVydCBpdCB0byBQbG90bHkgZGF0YSBvYmplY3QgZm9ybWF0Og0KICAgICAgICAgICAgICBvYmogPSB7DQogICAgICAgICAgICAgICAgeDogWy4uLl0sICh5ZWFycykNCiAgICAgICAgICAgICAgICB5OiBbLi4uXSwgKHdpZHRocykNCiAgICAgICAgICAgICAgICBuYW1lOiAnbmFtZUEnLA0KICAgICAgICAgICAgICAgIC4uLg0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAqLwogICAgICAgICAgICBmb3IgKGNvbCA9IDE7IGNvbCA8IGZpbGVEYXRhWzBdLmxlbmd0aDsgY29sKyspIHsKICAgICAgICAgICAgICB5ZWFyQXJyYXkgPSBbXTsKICAgICAgICAgICAgICB3aWR0aEFycmF5ID0gW107CgogICAgICAgICAgICAgIGZvciAocm93ID0gMTsgcm93IDwgZmlsZURhdGEubGVuZ3RoOyByb3crKykgewogICAgICAgICAgICAgICAgeWVhciA9IGZpbGVEYXRhW3Jvd11bMF07CiAgICAgICAgICAgICAgICB3aWR0aCA9IGZpbGVEYXRhW3Jvd11bY29sXTsKCiAgICAgICAgICAgICAgICBpZiAod2lkdGggPj0gMCkgewogICAgICAgICAgICAgICAgICB5ZWFyQXJyYXkucHVzaChwYXJzZUludCh5ZWFyKSk7CiAgICAgICAgICAgICAgICAgIHdpZHRoQXJyYXkucHVzaChwYXJzZUZsb2F0KHdpZHRoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBvYmogPSBuZXcgT2JqZWN0KCk7CiAgICAgICAgICAgICAgb2JqLm5hbWUgPSBmaWxlRGF0YVswXVtjb2xdOwogICAgICAgICAgICAgIG9iai54ID0geWVhckFycmF5OwogICAgICAgICAgICAgIG9iai55ID0gd2lkdGhBcnJheTsKICAgICAgICAgICAgICBhcnIucHVzaChvYmopOwogICAgICAgICAgICB9CgogICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE4OwogICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDUpOwoKICAgICAgICAgICAgX2l0ZXJhdG9yNy5lKF9jb250ZXh0LnQwKTsKCiAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjE7CgogICAgICAgICAgICBfaXRlcmF0b3I3LmYoKTsKCiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5maW5pc2goMjEpOwoKICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGFycik7CgogICAgICAgICAgY2FzZSAyNToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzUsIDE4LCAyMSwgMjRdXSk7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gZm9ybWF0RmlsZURhdGEoX3gyKSB7CiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKTsKCmV4cG9ydCBkZWZhdWx0IGZvcm1hdEZpbGVEYXRhOw=="},{"version":3,"sources":["C:/Users/JThorneUMN/Documents/GitHub/dendro-plots/plotting-app/src/composables/formatFileData.js"],"names":["Papa","toMM","num","length","slice","formatRWL","data","formattedData","headerLength","array","test_character","charAt","isNaN","parseFloat","splice","rwlSplitData","splitData","split","push","newHeader","currentName","rowName","earliestYear","Number","MAX_SAFE_INTEGER","latestDecade","latestYear","rwlData1","JSON","parse","stringify","year","parseInt","filter","e","years_to_add","k","newArray","String","rwlData2","prev_name","newSet","rwlArray","curr_name","startYear","yearAdj","year_in_formattedData","year_in_rwlData","width_to_test","width","current_array_index","indexOf","l","array_needing_neg_one","unshift","formatSpaceDelim","parseFile","file","Promise","resolve","reject","fr","FileReader","onload","event","i","type","target","result","ptWidths","papaObj","delimitersToGuess","errors","split_second_row","test_string","onerror","err","readAsText","parseFiles","files","parsedFiles","parsedFile","formatFileData","fileDataArray","arr","Array","fileData","tw","ew","lw","col","yearArray","widthArray","row","obj","Object","name","x","y"],"mappings":"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","sourcesContent":["// parse local core points in LTreering\r\n// window.postMessage({ x: [], y: [], name: \"\" })\r\n\r\n// use distance & annotation data in JSON\r\n\r\nimport Papa from 'papaparse'\r\n\r\nfunction toMM (num) {\r\n  if (num.length == 4) {\r\n    // 1234 => 1.234\r\n    return num.slice(0, 1) + '.' + num.slice(1);\r\n  } else if (num.length == 3) {\r\n    // 123 => 0.123\r\n    return '0.' + num\r\n  } else if (num.length == 2) {\r\n    // 12 => 0.012\r\n    return '0.0' + num\r\n  } else {\r\n    // 1 => 0.001\r\n    return '0.00' + num\r\n  }\r\n}\r\n\r\nfunction formatRWL (data) {\r\n  var formattedData = [];\r\n  // 1) rwl remove header\r\n  var headerLength = 0\r\n  for (let array of data) {\r\n    let test_character = array[0].charAt(9)\r\n    if (isNaN(parseFloat(test_character))) {\r\n      headerLength++\r\n    } else {\r\n      break\r\n    }\r\n  }\r\n  data.splice(0, headerLength);\r\n  // 2) split rwl data into array\r\n  // current format: [Core name, year, length, length, length, ...], ...\r\n  var rwlSplitData = []\r\n  for (let array of data) {\r\n    var splitData = array[0].split(/[\\s]+/)\r\n    rwlSplitData.push(splitData)\r\n  }\r\n  // 3) build new header\r\n  // header format: [Year, Core 1 name, Core 2 name, ...]\r\n  var newHeader = ['Year'];\r\n  var currentName = '';\r\n  for (let array of rwlSplitData) {\r\n    let rowName = array[0];\r\n    if (rowName != currentName && rowName) {\r\n      newHeader.push(rowName);\r\n      currentName = rowName;\r\n    };\r\n  };\r\n  // 4) create arrays for all years\r\n  // format: [Year, ...], [1900, ...], [1901, ...]\r\n  var earliestYear = Number.MAX_SAFE_INTEGER;\r\n  var latestDecade =  -1 * Number.MAX_SAFE_INTEGER;\r\n  var latestYear = 0;\r\n  var rwlData1 = JSON.parse(JSON.stringify(rwlSplitData)); // create new array for data so old one is not modified\r\n  for (let array of rwlData1) {\r\n    var year = parseInt(array[1]);\r\n    if (year < earliestYear) { // find first year\r\n      earliestYear = year;\r\n    } else if (year > latestDecade) { // find last year\r\n      array.splice(0, 2) // remove row name & decade/year\r\n      array = array.filter((e) => { // remove sentinel, sentinel = indicator of specimens final width\r\n        if ((isNaN(parseFloat(e)) == false) &&\r\n        (parseFloat(e) > 0) &&\r\n        (e != '999')) {\r\n          return e\r\n        }\r\n      });\r\n      var years_to_add = array.length - 1; // add number of widths to found year, subtract 1 b/c RWL starts at 0 not 1\r\n      latestDecade = year;\r\n      latestYear = year + years_to_add;\r\n    }\r\n  }\r\n  for (var k = earliestYear; k <= latestYear; k++) {\r\n    var newArray = [];\r\n    newArray.push(String(k));\r\n    formattedData.push(newArray);\r\n  }\r\n  // 5) format & add widths to data\r\n  // format: [Year, Core 1 name, Core 2 name, ...], [1900, width 1, width 2, ...], [1901, width 1, width 2, ...]\r\n  var rwlData2 = JSON.parse(JSON.stringify(rwlSplitData)); // create new array for data so old one is not modified\r\n  var prev_name = '';\r\n  var newSet = true;\r\n  for (let rwlArray of rwlData2) {\r\n    var curr_name = rwlArray[0];\r\n    if (curr_name == prev_name) {\r\n      newSet = false;\r\n    } else {\r\n      newSet = true;\r\n      prev_name = curr_name;\r\n    }\r\n\r\n    var startYear = parseFloat(rwlArray[1]);\r\n    var yearAdj = 0; // index of width in RWL as well as that widths year\r\n    rwlArray.splice(0, 2); // remove row name & decade/year\r\n    for (let array of formattedData) {\r\n      var year_in_formattedData = array[0];\r\n      if (yearAdj > rwlArray.length - 1) {\r\n        yearAdj = 0;\r\n        break\r\n      }\r\n      var year_in_rwlData = String(startYear + yearAdj);\r\n      if (year_in_rwlData == year_in_formattedData) {\r\n        var width_to_test = rwlArray[yearAdj];\r\n        if ((isNaN(parseFloat(width_to_test)) == false) &&\r\n            (parseFloat(width_to_test) > 0) &&\r\n            (width_to_test != '999')) {\r\n          // check that width is not a sentinel (indicator of end of core)\r\n          var width = toMM(rwlArray[yearAdj])\r\n          array.push(width);\r\n          yearAdj++\r\n        } else { // if sentinel, add -1 (missing data indicator) to rest of formattedData\r\n          var current_array_index = formattedData.indexOf(array);\r\n          for (var l = current_array_index; l < formattedData.length; l++) {\r\n            var array_needing_neg_one = formattedData[l];\r\n            array_needing_neg_one.push('-1');\r\n          }\r\n          break\r\n        }\r\n      } else if (newSet == true) {\r\n        array.push('-1')\r\n      }\r\n    }\r\n  }\r\n  // 6) add header\r\n  formattedData.unshift(newHeader);\r\n\r\n  return formattedData\r\n}\r\n\r\nfunction formatSpaceDelim (data) {\r\n  var formattedData = []\r\n  for (let array of data) {\r\n    let splitData = array[0].split(/[\\s]+/)\r\n    formattedData.push(splitData)\r\n  }\r\n\r\n  return formattedData\r\n}\r\n\r\nfunction parseFile (file) {\r\n  return new Promise((resolve, reject) => {\r\n    let fr = new FileReader()\r\n    fr.onload = function(event, i) {\r\n      if (file.type == 'application/json') {\r\n        resolve(JSON.parse(event.target.result).ptWidths)\r\n      } else {\r\n        let papaObj = Papa.parse(event.target.result, {delimitersToGuess: [',', '\\t']})\r\n        if (papaObj.errors.length) { // rwl or space demilited files\r\n          // space delimited has a years in far left column, RWL had specimen names, way to differentiate\r\n          var split_second_row = papaObj.data[1][0].split(/[\\s]+/);\r\n          var test_string = split_second_row[0];\r\n          if (isNaN(parseFloat(test_string))) {\r\n            resolve(formatRWL(papaObj.data))\r\n          } else {\r\n            resolve(formatSpaceDelim(papaObj.data))\r\n          }\r\n        } else { // CSV, TSV files\r\n          resolve(papaObj.data)\r\n        }\r\n      }\r\n    }\r\n    fr.onerror = err => reject(err);\r\n\r\n    fr.readAsText(file)\r\n  })\r\n}\r\n\r\nasync function parseFiles(files) {\r\n  var parsedFiles = [];\r\n\r\n  for (let file of files) {\r\n    let parsedFile = await parseFile(file)\r\n    parsedFiles.push(parsedFile)\r\n  }\r\n\r\n  return parsedFiles\r\n}\r\n\r\nconst formatFileData = async function (files) {\r\n  var fileDataArray = await parseFiles(files)\r\n\r\n  var arr = new Array()\r\n\r\n  for (let fileData of fileDataArray) {\r\n    if (fileData.tw) { // JSON already formatted\r\n      arr.push(fileData.tw)\r\n      if (fileData.ew && fileData.lw) {\r\n        arr.push(fileData.ew)\r\n        arr.push(fileData.lw)\r\n      }\r\n      continue\r\n    }\r\n\r\n    /* other file types are formatted:\r\n      [year, nameA, nameB, ...],\r\n      [year1, width1A, width1B, ...],\r\n\r\n      convert it to Plotly data object format:\r\n      obj = {\r\n        x: [...], (years)\r\n        y: [...], (widths)\r\n        name: 'nameA',\r\n        ...\r\n      }\r\n    */\r\n    for (let col = 1; col < fileData[0].length; col++) {\r\n      var yearArray = []\r\n      var widthArray = []\r\n      for (let row = 1; row < fileData.length; row++) {\r\n        let year = fileData[row][0]\r\n        let width = fileData[row][col]\r\n        if (width >= 0) {\r\n          yearArray.push(parseInt(year))\r\n          widthArray.push(parseFloat(width))\r\n        }\r\n      }\r\n      var obj = new Object()\r\n      obj.name = fileData[0][col]\r\n      obj.x = yearArray\r\n      obj.y = widthArray\r\n\r\n      arr.push(obj)\r\n    }\r\n  }\r\n\r\n  return arr\r\n}\r\n\r\nexport default formatFileData\r\n"]}]}