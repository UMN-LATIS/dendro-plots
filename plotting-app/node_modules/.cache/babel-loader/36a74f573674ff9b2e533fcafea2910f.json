{"remainingRequest":"C:\\Users\\JThorneUMN\\Documents\\GitHub\\dendro-plots\\plotting-app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\JThorneUMN\\Documents\\GitHub\\dendro-plots\\plotting-app\\src\\modules\\indices.js","dependencies":[{"path":"C:\\Users\\JThorneUMN\\Documents\\GitHub\\dendro-plots\\plotting-app\\src\\modules\\indices.js","mtime":1630447456781},{"path":"C:\\Users\\JThorneUMN\\Documents\\GitHub\\dendro-plots\\plotting-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\JThorneUMN\\Documents\\GitHub\\dendro-plots\\plotting-app\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCBzdG9yZSBmcm9tICcuL3N0b3JlLmpzJzsKCnZhciBjcmVhdGVJbmRleCA9IGZ1bmN0aW9uIGNyZWF0ZUluZGV4KHgsIHksIHNwbGluZSwgZnJlcSwgaWQpIHsKICBjb25zb2xlLmxvZygnY3JlYXRlZCBpbmRleCcpOwogIHZhciB4QXJyID0geDsKICB2YXIgeUFyciA9IHgubWFwKGZ1bmN0aW9uIChlLCBpKSB7CiAgICB2YXIgaiA9IHNwbGluZS54LmluZGV4T2YoZSk7CgogICAgaWYgKGogPT09IC0xKSB7CiAgICAgIC8vIGZpbmQgY2xvc2VzdCB2YWx1ZSB0byB1c2UgZm9yIGNhbGN1bGF0aW9uCiAgICAgIHZhciBuID0gc3BsaW5lLngucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBjdXJyKSB7CiAgICAgICAgcmV0dXJuIE1hdGguYWJzKGN1cnIgLSBlKSA8IE1hdGguYWJzKHByZXYgLSBlKSA/IGN1cnIgOiBwcmV2OwogICAgICB9KTsKICAgICAgaiA9IHNwbGluZS54LmluZGV4T2Yobik7CiAgICB9CgogICAgcmV0dXJuIHlbaV0gLyBzcGxpbmUueVtqXTsKICB9KTsgLy8gc2F2ZSBpbmRleCB0byBpbmRleCBjYWNoZSBpbiBzdG9yZS5qcwoKICB2YXIgaW5kZXhPYmo7CiAgdmFyIGluZGV4RXhpc3RzID0gc3RvcmUuY2FjaGUuaW5kZXguZmluZChmdW5jdGlvbiAobykgewogICAgcmV0dXJuIG8uaWQgPT0gaWQ7CiAgfSk7CgogIGlmIChpbmRleEV4aXN0cykgewogICAgaW5kZXhPYmogPSBpbmRleEV4aXN0czsKICB9IGVsc2UgewogICAgaW5kZXhPYmogPSBuZXcgT2JqZWN0KCk7CiAgICBpbmRleE9iai5pZCA9IGlkOwogICAgc3RvcmUuY2FjaGUuaW5kZXgucHVzaChpbmRleE9iaik7CiAgfQoKICBpbmRleE9ialtmcmVxXSA9IHsKICAgIHg6IHhBcnIsCiAgICB5OiB5QXJyCiAgfTsKICByZXR1cm4gewogICAgeDogeEFyciwKICAgIHk6IHlBcnIKICB9Owp9OwoKZXhwb3J0IGRlZmF1bHQgY3JlYXRlSW5kZXg7"},{"version":3,"sources":["C:/Users/JThorneUMN/Documents/GitHub/dendro-plots/plotting-app/src/modules/indices.js"],"names":["store","createIndex","x","y","spline","freq","id","console","log","xArr","yArr","map","e","i","j","indexOf","n","reduce","prev","curr","Math","abs","indexObj","indexExists","cache","index","find","o","Object","push"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,YAAlB;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAASC,CAAT,EAAYC,CAAZ,EAAeC,MAAf,EAAuBC,IAAvB,EAA6BC,EAA7B,EAAiC;AACnDC,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AAEA,MAAIC,IAAI,GAAGP,CAAX;AACA,MAAIQ,IAAI,GAAGR,CAAC,CAACS,GAAF,CAAM,UAACC,CAAD,EAAIC,CAAJ,EAAU;AACzB,QAAIC,CAAC,GAAGV,MAAM,CAACF,CAAP,CAASa,OAAT,CAAiBH,CAAjB,CAAR;;AACA,QAAIE,CAAC,KAAK,CAAC,CAAX,EAAc;AACZ;AACA,UAAIE,CAAC,GAAGZ,MAAM,CAACF,CAAP,CAASe,MAAT,CAAgB,UAACC,IAAD,EAAOC,IAAP,EAAgB;AACtC,eAAQC,IAAI,CAACC,GAAL,CAASF,IAAI,GAAGP,CAAhB,IAAqBQ,IAAI,CAACC,GAAL,CAASH,IAAI,GAAGN,CAAhB,CAArB,GAA0CO,IAA1C,GAAiDD,IAAzD;AACD,OAFO,CAAR;AAGAJ,MAAAA,CAAC,GAAGV,MAAM,CAACF,CAAP,CAASa,OAAT,CAAiBC,CAAjB,CAAJ;AACD;;AACD,WAAOb,CAAC,CAACU,CAAD,CAAD,GAAOT,MAAM,CAACD,CAAP,CAASW,CAAT,CAAd;AACD,GAVU,CAAX,CAJmD,CAgBnD;;AACA,MAAIQ,QAAJ;AACA,MAAIC,WAAW,GAAGvB,KAAK,CAACwB,KAAN,CAAYC,KAAZ,CAAkBC,IAAlB,CAAuB,UAAAC,CAAC;AAAA,WAAIA,CAAC,CAACrB,EAAF,IAAQA,EAAZ;AAAA,GAAxB,CAAlB;;AACA,MAAIiB,WAAJ,EAAiB;AACfD,IAAAA,QAAQ,GAAGC,WAAX;AACD,GAFD,MAEO;AACLD,IAAAA,QAAQ,GAAG,IAAIM,MAAJ,EAAX;AACAN,IAAAA,QAAQ,CAAChB,EAAT,GAAcA,EAAd;AACAN,IAAAA,KAAK,CAACwB,KAAN,CAAYC,KAAZ,CAAkBI,IAAlB,CAAuBP,QAAvB;AACD;;AACDA,EAAAA,QAAQ,CAACjB,IAAD,CAAR,GAAiB;AACfH,IAAAA,CAAC,EAAEO,IADY;AAEfN,IAAAA,CAAC,EAAEO;AAFY,GAAjB;AAKA,SAAO;AAAER,IAAAA,CAAC,EAAEO,IAAL;AAAWN,IAAAA,CAAC,EAAEO;AAAd,GAAP;AACD,CAhCD;;AAkCA,eAAeT,WAAf","sourcesContent":["import store from './store.js'\r\n\r\nconst createIndex = function(x, y, spline, freq, id) {\r\n  console.log('created index')\r\n\r\n  let xArr = x\r\n  let yArr = x.map((e, i) => {\r\n    let j = spline.x.indexOf(e)\r\n    if (j === -1) {\r\n      // find closest value to use for calculation\r\n      let n = spline.x.reduce((prev, curr) => {\r\n        return (Math.abs(curr - e) < Math.abs(prev - e) ? curr : prev);\r\n      })\r\n      j = spline.x.indexOf(n)\r\n    }\r\n    return y[i] / spline.y[j]\r\n  })\r\n\r\n  // save index to index cache in store.js\r\n  let indexObj\r\n  let indexExists = store.cache.index.find(o => o.id == id)\r\n  if (indexExists) {\r\n    indexObj = indexExists\r\n  } else {\r\n    indexObj = new Object()\r\n    indexObj.id = id\r\n    store.cache.index.push(indexObj)\r\n  }\r\n  indexObj[freq] = {\r\n    x: xArr,\r\n    y: yArr,\r\n  }\r\n\r\n  return { x: xArr, y: yArr }\r\n}\r\n\r\nexport default createIndex\r\n"]}]}